# ProxyHub - ä»£ç†IPç®¡ç†å¹³å°

<div align="center">

![ProxyHub](https://img.shields.io/badge/ProxyHub-v1.0.0-blue)
![Vue3](https://img.shields.io/badge/Vue-3.x-green)
![NestJS](https://img.shields.io/badge/NestJS-10.x-red)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-blue)
![Docker](https://img.shields.io/badge/Docker-ready-blue)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ä»£ç†IPç®¡ç†å¹³å°ï¼Œæ”¯æŒé™æ€ä½å®…ä»£ç†ã€åŠ¨æ€ä½å®…ä»£ç†ã€ç§»åŠ¨ä»£ç†çš„é€‰è´­å’Œç®¡ç†ã€‚

</div>

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ç”¨æˆ·ç«¯åŠŸèƒ½
- ğŸ” **ç”¨æˆ·è®¤è¯** - æ³¨å†Œã€ç™»å½•ã€JWTèº«ä»½éªŒè¯
- ğŸ“Š **æ•°æ®ä»ªè¡¨ç›˜** - å®æ—¶ç»Ÿè®¡ä»£ç†ä½¿ç”¨æƒ…å†µã€è®¢å•ã€æ¶ˆè´¹æ•°æ®
- ğŸ  **é™æ€ä½å®…ä»£ç†** - é€‰è´­å’Œç®¡ç†é™æ€IPï¼Œæ”¯æŒå¤šå›½å®¶/åŸå¸‚
- âš¡ **åŠ¨æ€ä½å®…ä»£ç†** - åŠ¨æ€IPé€‰è´­å’Œç®¡ç†ï¼ˆå¼€å‘ä¸­ï¼‰
- ğŸ“± **ç§»åŠ¨ä»£ç†** - ç§»åŠ¨IPç®¡ç†ï¼ˆè®¡åˆ’ä¸­ï¼‰
- ğŸ’° **é’±åŒ…å……å€¼** - å¤šç§æ”¯ä»˜æ–¹å¼ï¼Œç®¡ç†å‘˜å®¡æ ¸
- ğŸ“ **è®¢å•ç®¡ç†** - æŸ¥çœ‹æ‰€æœ‰è´­ä¹°è®¢å•å’ŒçŠ¶æ€
- ğŸ’³ **äº¤æ˜“è®°å½•** - è¯¦ç»†çš„è´¦æˆ·äº¤æ˜“æ˜ç»†
- ğŸ‘¤ **è´¦æˆ·ä¸­å¿ƒ** - ä¸ªäººä¿¡æ¯ã€å¯†ç ä¿®æ”¹ã€APIå¯†é’¥ç®¡ç†

### ç®¡ç†åå°åŠŸèƒ½
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** - æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ï¼Œç®¡ç†çŠ¶æ€å’Œè§’è‰²
- ğŸ’µ **å……å€¼å®¡æ ¸** - å®¡æ‰¹ç”¨æˆ·å……å€¼ç”³è¯·
- ğŸ“¦ **è®¢å•ç®¡ç†** - æŸ¥çœ‹æ‰€æœ‰è®¢å•
- ğŸ“ˆ **ç³»ç»Ÿç»Ÿè®¡** - å¹³å°è¿è¥æ•°æ®æ¦‚è§ˆ
- âš™ï¸ **ç³»ç»Ÿè®¾ç½®** - é…ç½®ç³»ç»Ÿå‚æ•°

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js >= 18.0
- PostgreSQL >= 15
- Docker & Docker Compose
- npm æˆ– yarn

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd proxyhub
```

2. **å®‰è£…ä¾èµ–**
```bash
# å®‰è£…åç«¯ä¾èµ–
cd backend
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../frontend
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp docs/ENV_TEMPLATE.txt backend/.env

# ç¼–è¾‘.envæ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯
```

4. **å¯åŠ¨æ•°æ®åº“**
```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ..

# å¯åŠ¨PostgreSQL
docker-compose up -d postgres
```

5. **è¿è¡Œæ•°æ®åº“è¿ç§»å’Œç§å­æ•°æ®**
```bash
cd backend
npm run migration:run
npm run seed
```

6. **å¯åŠ¨æœåŠ¡**

**æ–¹æ³•1ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰**
```bash
.\å¯åŠ¨ProxyHub.bat
```

**æ–¹æ³•2ï¼šæ‰‹åŠ¨å¯åŠ¨**
```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨åç«¯
cd backend
npm run start:dev

# ç»ˆç«¯2ï¼šå¯åŠ¨å‰ç«¯
cd frontend
npm run dev
```

7. **è®¿é—®åº”ç”¨**
- å‰ç«¯ï¼šhttp://localhost:8080
- åç«¯APIï¼šhttp://localhost:3000
- APIæ–‡æ¡£ï¼šhttp://localhost:3000/api

---

## ğŸ‘¤ æµ‹è¯•è´¦å·

| è§’è‰² | é‚®ç®± | å¯†ç  | åˆå§‹ä½™é¢ |
|------|------|------|---------|
| ç®¡ç†å‘˜ | admin@example.com | admin123 | $10,000.00 |
| æ™®é€šç”¨æˆ· | user@example.com | password123 | $1,000.00 |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
proxyhub/
â”œâ”€â”€ backend/                 # NestJSåç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ modules/        # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/       # è®¤è¯æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ user/       # ç”¨æˆ·æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ proxy/      # ä»£ç†æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ billing/    # è´¦å•æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ order/      # è®¢å•æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/      # ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/  # ä»ªè¡¨ç›˜æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ common/         # å…¬å…±æ¨¡å—ï¼ˆguards, decoratorsï¼‰
â”‚   â”‚   â”œâ”€â”€ config/         # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ database/       # æ•°æ®åº“ç›¸å…³ï¼ˆmigrations, seedsï¼‰
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/               # Vue3å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/           # APIè¯·æ±‚å°è£…
â”‚   â”‚   â”œâ”€â”€ assets/        # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ components/    # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layouts/       # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ stores/        # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docs/                   # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ requirements.md     # éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ design.md          # è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ tasks.md           # ä»»åŠ¡æ¸…å•
â”‚   â””â”€â”€ CODE-REFERENCE/    # ä»£ç å‚è€ƒ
â”‚
â”œâ”€â”€ docker-compose.yml     # Dockerç¼–æ’é…ç½®
â”œâ”€â”€ å¯åŠ¨ProxyHub.bat       # Windowsä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ åœæ­¢ProxyHub.bat       # Windowsåœæ­¢æœåŠ¡è„šæœ¬
â”œâ”€â”€ ACCEPTANCE_TEST.md     # éªŒæ”¶æµ‹è¯•æ–¹æ¡ˆ
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: NestJS 10.x
- **è¯­è¨€**: TypeScript
- **æ•°æ®åº“**: PostgreSQL 15
- **ORM**: TypeORM
- **è®¤è¯**: JWT + Passport.js
- **éªŒè¯**: class-validator
- **APIæ–‡æ¡£**: Swagger
- **é™æµ**: @nestjs/throttler

### å‰ç«¯
- **æ¡†æ¶**: Vue 3
- **è¯­è¨€**: TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **UIç»„ä»¶**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router
- **HTTPå®¢æˆ·ç«¯**: Axios
- **å›¾è¡¨**: ECharts

### DevOps
- **å®¹å™¨åŒ–**: Docker & Docker Compose
- **æ•°æ®åº“**: PostgreSQL
- **åå‘ä»£ç†**: Nginxï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

---

## ğŸ“š APIæ–‡æ¡£

å¯åŠ¨åç«¯æœåŠ¡åï¼Œè®¿é—® http://localhost:3000/api æŸ¥çœ‹å®Œæ•´çš„Swagger APIæ–‡æ¡£ã€‚

ä¸»è¦APIç«¯ç‚¹ï¼š

### è®¤è¯ç›¸å…³
- `POST /api/v1/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/v1/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/v1/auth/admin-login` - ç®¡ç†å‘˜ç™»å½•
- `POST /api/v1/auth/refresh` - åˆ·æ–°token

### ç”¨æˆ·ç›¸å…³
- `GET /api/v1/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/v1/users/profile` - è·å–ç”¨æˆ·èµ„æ–™
- `PUT /api/v1/users/profile` - æ›´æ–°ç”¨æˆ·èµ„æ–™
- `POST /api/v1/users/change-password` - ä¿®æ”¹å¯†ç 

### ä»£ç†ç›¸å…³
- `GET /api/v1/proxy/static/list` - è·å–ä»£ç†åˆ—è¡¨
- `POST /api/v1/proxy/static/purchase` - è´­ä¹°é™æ€ä»£ç†
- `GET /api/v1/proxy/static/inventory` - æŸ¥çœ‹å¯ç”¨åº“å­˜

### è´¦å•ç›¸å…³
- `POST /api/v1/billing/recharge` - æäº¤å……å€¼
- `GET /api/v1/billing/recharges` - è·å–å……å€¼è®°å½•
- `GET /api/v1/billing/transactions` - è·å–äº¤æ˜“è®°å½•

### è®¢å•ç›¸å…³
- `GET /api/v1/orders` - è·å–è®¢å•åˆ—è¡¨
- `GET /api/v1/orders/:id` - è·å–è®¢å•è¯¦æƒ…

### ç®¡ç†å‘˜ç›¸å…³
- `GET /api/v1/admin/users` - è·å–æ‰€æœ‰ç”¨æˆ·
- `GET /api/v1/admin/statistics` - è·å–ç³»ç»Ÿç»Ÿè®¡
- `PUT /api/v1/billing/recharge/:id/approve` - å®¡æ‰¹å……å€¼

---

## ğŸ§ª æµ‹è¯•

### è¿è¡ŒéªŒæ”¶æµ‹è¯•

å®Œæ•´çš„éªŒæ”¶æµ‹è¯•æ–¹æ¡ˆè¯·å‚è€ƒ `ACCEPTANCE_TEST.md` æ–‡æ¡£ã€‚

**å¿«é€Ÿæµ‹è¯•æµç¨‹**ï¼š
1. å¯åŠ¨æ‰€æœ‰æœåŠ¡
2. è®¿é—® http://localhost:8080
3. ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•
4. æŒ‰ç…§éªŒæ”¶æ–‡æ¡£é€é¡¹æµ‹è¯•åŠŸèƒ½

### ä½¿ç”¨Chrome DevToolsè°ƒè¯•

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. åˆ‡æ¢åˆ°Networkæ ‡ç­¾
3. æ‰§è¡Œæ“ä½œï¼ˆå¦‚ç™»å½•ã€è´­ä¹°ï¼‰
4. æŸ¥çœ‹APIè¯·æ±‚å’Œå“åº”
5. æ£€æŸ¥Consoleæ˜¯å¦æœ‰é”™è¯¯

è¯¦ç»†è°ƒè¯•æŒ‡å—è§ `ACCEPTANCE_TEST.md`ã€‚

---

## ğŸ› æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**é—®é¢˜1ï¼šç«¯å£è¢«å ç”¨**
```bash
# åœæ­¢æ‰€æœ‰Nodeè¿›ç¨‹
.\åœæ­¢ProxyHub.bat

# æˆ–æ‰‹åŠ¨åœæ­¢
taskkill /F /IM node.exe
```

**é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥Dockeræ˜¯å¦è¿è¡Œ
docker ps

# é‡å¯æ•°æ®åº“
docker-compose restart postgres
```

**é—®é¢˜3ï¼šå‰ç«¯é¡µé¢ç©ºç™½**
- æ£€æŸ¥æµè§ˆå™¨Consoleæ˜¯å¦æœ‰é”™è¯¯
- æ£€æŸ¥å‰ç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

**é—®é¢˜4ï¼šAPIè¿”å›401é”™è¯¯**
- Tokenå¯èƒ½è¿‡æœŸï¼Œé‡æ–°ç™»å½•
- æ£€æŸ¥è¯·æ±‚å¤´æ˜¯å¦åŒ…å«Authorization

---

## ğŸ“– å¼€å‘æ–‡æ¡£

è¯¦ç»†å¼€å‘æ–‡æ¡£ä½äº `docs/` ç›®å½•ï¼š

- `requirements.md` - åŠŸèƒ½éœ€æ±‚æ–‡æ¡£
- `design.md` - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£
- `tasks.md` - å¼€å‘ä»»åŠ¡æ¸…å•
- `IMPLEMENTATION_GUIDE.md` - å®ç°æŒ‡å—
- `CODE-REFERENCE/` - ä»£ç å‚è€ƒç¤ºä¾‹
- `ENV_TEMPLATE.txt` - ç¯å¢ƒå˜é‡æ¨¡æ¿

---

## ğŸ”’ å®‰å…¨

- æ‰€æœ‰å¯†ç ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨
- JWT token æœ‰æ•ˆæœŸï¼š15åˆ†é’Ÿï¼ˆaccessï¼‰/ 7å¤©ï¼ˆrefreshï¼‰
- APIè¯·æ±‚éœ€è¦JWTè®¤è¯
- ç®¡ç†å‘˜æƒé™ç‹¬ç«‹éªŒè¯
- APIé™æµï¼šæ¯60ç§’æœ€å¤š100æ¬¡è¯·æ±‚

---

## ğŸš§ å·²çŸ¥é™åˆ¶

1. **åŠ¨æ€ä»£ç†æ¨¡å—**ï¼šUIå·²å®Œæˆï¼Œä¸šåŠ¡é€»è¾‘å¾…å®ç°
2. **ç§»åŠ¨ä»£ç†æ¨¡å—**ï¼šè®¡åˆ’ä¸­ï¼Œæš‚æœªå¼€å‘
3. **985Proxy API**ï¼šæš‚æ—¶ä½¿ç”¨Mockæ•°æ®ï¼Œéœ€é›†æˆçœŸå®API
4. **å®æ—¶æµé‡ç»Ÿè®¡**ï¼šå¾…å®ç°
5. **Telegramé€šçŸ¥**ï¼šå¾…å®ç°

---

## ğŸ“ TODO

- [ ] é›†æˆçœŸå®çš„985Proxy API
- [ ] å®ç°åŠ¨æ€ä»£ç†ä¸šåŠ¡é€»è¾‘
- [ ] æ·»åŠ ç§»åŠ¨ä»£ç†æ¨¡å—
- [ ] å®Œå–„å‰ç«¯å›¾è¡¨æ•°æ®
- [ ] æ·»åŠ Telegramé€šçŸ¥
- [ ] ä¼˜åŒ–Dockerç”Ÿäº§ç¯å¢ƒ
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] æ·»åŠ E2Eæµ‹è¯•
- [ ] éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤Issue
- å‘é€é‚®ä»¶

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰å¼€æºé¡¹ç›®çš„è´¡çŒ®è€…ï¼

---

**é¡¹ç›®çŠ¶æ€**: ğŸŸ¢ å¼€å‘ä¸­

**æœ€åæ›´æ–°**: 2025å¹´11æœˆ2æ—¥

**ç‰ˆæœ¬**: v1.0.0
