# ProxyHub 全面测试清单

## 测试环境
- 前端: http://localhost:8080
- 后端: http://localhost:3002/api/v1
- 数据库: PostgreSQL (localhost:5433)
- Redis: localhost:6380

## 测试账户
- **管理员**: admin@example.com (密码: Admin123!)
- **余额**: $10,000.00

---

## 🔴 核心功能测试（必须通过）

### 1. 用户认证与授权
- [  ] 登录页面加载正常
- [  ] 使用管理员账号登录成功
- [  ] 用户信息显示正确（邮箱、余额、角色）
- [  ] 退出登录功能正常

### 2. 静态住宅IP购买流程（核心功能）
- [  ] 进入静态住宅IP购买页面
- [  ] 业务场景下拉菜单显示分类（热门业务、跨境电商、社交等）
- [  ] 选择IP类型（普通/原生）
- [  ] 选择时长（30/60/90/180/360天）
- [  ] 选择业务场景（测试筛选功能）
- [  ] 查看库存和价格（实时从985Proxy获取）
- [  ] 选择国家和数量
- [  ] 确认购买
- [  ] ⚠️ **关键**: 检查ProxyHub余额是否正确扣除
- [  ] ⚠️ **关键**: 检查985Proxy余额是否扣除
- [  ] ⚠️ **关键**: 确认IP详情是真实的985Proxy IP（不是mock数据）
- [  ] 订单号正确显示
- [  ] 跳转到"我的IP"页面查看新购买的IP

### 3. 静态住宅IP管理
- [  ] "我的IP"页面加载正常
- [  ] 显示所有购买的IP（包含刚才购买的）
- [  ] IP详细信息显示正确：
  - [  ] 所属通道
  - [  ] IP:端口:账号:密码
  - [  ] 国家
  - [  ] 到期时间
  - [  ] 释放时间
  - [  ] 节点ID
  - [  ] 备注
- [  ] 复制按钮功能正常（点击后提示"已复制"）
- [  ] 表格可以横向滚动查看完整信息
- [  ] 筛选功能：
  - [  ] 按国家筛选
  - [  ] 按IP类型筛选（普通/原生）
  - [  ] 按状态筛选（运行中/已过期）
- [  ] 导出功能：
  - [  ] 导出为CSV
  - [  ] 导出为TXT（格式：第一行"IP:端口:账户:密码"，后续每行一个IP，Unix换行符）
- [  ] 编辑备注功能正常

### 4. 动态住宅IP管理（新功能）
- [  ] 进入动态住宅IP管理页面
- [  ] 页面无错误提示（重点检查之前的"setAttribute"错误）
- [  ] 如果有动态通道，显示列表：
  - [  ] 通道名
  - [  ] 费用（$/GB）
  - [  ] 通道限制
  - [  ] 使用流量
  - [  ] 花费
  - [  ] 状态
  - [  ] 备注
- [  ] "添加通道"按钮点击后提示联系客服，并跳转Telegram
- [  ] "提取IP"功能（如果有通道）：
  - [  ] 选择通道
  - [  ] 选择国家/州/城市（三级联动）
  - [  ] 选择代理时效（30/60/120分钟）
  - [  ] 选择数量（1-100）
  - [  ] 点击"提取IP"
  - [  ] 显示提取结果（IP:Port:User:Pass格式）
  - [  ] "复制全部"按钮功能正常
- [  ] 编辑/删除通道功能

### 5. 充值功能
- [  ] 进入充值页面
- [  ] 选择支付方式（USDT）
- [  ] 输入充值金额
- [  ] 生成充值订单
- [  ] 显示付款地址和二维码
- [  ] 查看充值订单列表

---

## 🟡 管理后台功能测试

### 6. 管理员仪表盘
- [  ] 仪表盘加载正常
- [  ] **收入趋势**图表显示真实数据（不是硬编码）
- [  ] **待处理事项**显示真实数量（不是硬编码的3）
- [  ] 系统统计数据：
  - [  ] 总用户数
  - [  ] 活跃用户数
  - [  ] 今日收入
  - [  ] 总收入
- [  ] 最近订单列表显示

### 7. 用户管理
- [  ] 用户列表加载正常
- [  ] "添加用户"按钮功能正常（之前无响应）
- [  ] 添加用户对话框：
  - [  ] 输入邮箱
  - [  ] 输入密码
  - [  ] 选择角色（user/admin）
  - [  ] 输入初始余额
  - [  ] 确认创建
- [  ] 用户操作：
  - [  ] "查看用户IP"功能（新功能）
    - [  ] 显示用户的静态IP列表
    - [  ] 显示用户的动态通道列表
    - [  ] 显示用户的交易记录
    - [  ] 导出功能（Excel/CSV）
  - [  ] "添加余额"功能
  - [  ] **"扣除余额"功能**（之前无响应）
    - [  ] 输入扣除金额
    - [  ] 输入扣除原因
    - [  ] 确认扣除
    - [  ] 检查用户余额是否正确减少
    - [  ] 检查交易记录是否记录
  - [  ] 修改用户状态
  - [  ] 修改用户角色

### 8. 充值审核
- [  ] 充值订单列表加载正常
- [  ] 筛选功能（pending/approved/rejected）
- [  ] 审核操作：
  - [  ] 批准充值
  - [  ] 拒绝充值

### 9. 订单管理
- [  ] 订单列表加载正常
- [  ] 显示所有订单（不是硬编码）
- [  ] 筛选功能（按状态、类型）
- [  ] 查看订单详情

### 10. 结算记录
- [  ] 结算记录列表加载正常
- [  ] **显示真实的结算记录**（不是硬编码）
- [  ] 筛选和搜索功能

### 11. 价格管理
- [  ] 价格覆盖列表加载正常
- [  ] 添加价格覆盖：
  - [  ] 选择国家
  - [  ] 选择IP类型
  - [  ] 输入价格
  - [  ] 确认保存
- [  ] 编辑价格覆盖
- [  ] 删除价格覆盖
- [  ] ⚠️ **验证**: 返回购买页面，检查自定义价格是否生效

### 12. 系统设置
- [  ] 设置页面加载正常
- [  ] **客服链接设置**：
  - [  ] 修改Telegram客服链接
  - [  ] 保存
  - [  ] 返回用户界面，点击"联系客服"，确认跳转到新链接（不是硬编码的 https://t.me/lubei12）

---

## 🟢 UI/UX测试

### 13. 页面响应性
- [  ] 所有页面在1920x1080分辨率下显示正常
- [  ] 深色主题一致性
- [  ] 图表和数据可视化清晰

### 14. 错误处理
- [  ] 余额不足时的提示
- [  ] API错误的友好提示
- [  ] 网络错误的重试机制

### 15. 性能
- [  ] 页面加载速度 < 3秒
- [  ] 列表分页功能正常
- [  ] 大量数据时的表格滚动流畅

---

## 🔵 数据一致性测试

### 16. 985Proxy集成验证
- [  ] 购买IP后，ProxyHub显示的IP与985Proxy后台一致
- [  ] IP详细信息（IP:Port:User:Pass）与985Proxy一致
- [  ] 到期时间与985Proxy一致
- [  ] 余额扣除与985Proxy扣除金额一致

### 17. Mock数据清理验证
- [  ] 数据库中无"[MOCK]"备注的IP
- [  ] 数据库中无"默认通道"的IP
- [  ] 数据库中无内网IP（192.168.x.x）

---

## ❌ 已知问题（需特别检查）

### 之前报告的Bug
1. **动态住宅管理页面错误**:
   - [  ] "加载通道列表失败: Failed to execute 'setAttribute' on 'Element': '0' is not a valid attribute name."
   - [  ] "请求的资源不存在"

2. **管理后台问题**:
   - [  ] 收入趋势硬编码
   - [  ] 待处理事项硬编码（显示3但实际0）
   - [  ] 扣除余额按钮无响应
   - [  ] 添加用户按钮无响应

3. **客服链接问题**:
   - [  ] 客服链接始终跳转到 https://t.me/lubei12（硬编码）

---

## 测试结果总结

### ✅ 通过的测试
- 

### ❌ 失败的测试
- 

### 🚧 待修复的Bug
- 

---

## 测试人员签名

**测试日期**: 2025-11-07  
**测试环境**: Docker本地环境  
**测试人员**: AI Assistant + User  


