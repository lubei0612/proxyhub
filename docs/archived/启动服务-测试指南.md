# ProxyHub 启动服务和测试指南

## 🚀 快速启动（3步）

### 1. 启动后端服务
```powershell
cd backend
npm run start:dev
```
**等待看到**: `Nest application successfully started` 
**监听端口**: `http://localhost:3000`

### 2. 启动前端服务
```powershell
# 新开一个Terminal
cd frontend
npm run dev
```
**等待看到**: `Local: http://localhost:8080/`
**前端地址**: `http://localhost:8080`

### 3. 打开浏览器测试
```
访问: http://localhost:8080
```

## ✅ 测试账号

### 普通用户
- 邮箱: `user@example.com`
- 密码: `password123`

### 管理员
- 邮箱: `admin@example.com`
- 密码: `admin123`

### 错误测试
- 不存在账号: `test999@example.com` → 应显示"该账号不存在，请先注册"
- 错误密码: 使用user@example.com + 错误密码 → 应显示"密码错误，请重试"

## 🎯 本次测试重点

### 必须验证的功能 (P0)

#### 1. 登录页面
- [ ] 输入不存在的账号 → 显示"该账号不存在，请先注册"
- [ ] 输入错误密码 → 显示"密码错误，请重试"
- [ ] 输入无效邮箱 → 显示"请输入有效的邮箱地址"

#### 2. 动态住宅管理 (新UI)
- [ ] 页面显示4个统计卡片
- [ ] 卡片显示：套餐类型、剩余流量、状态、流量单价
- [ ] 4个操作按钮正确显示
- [ ] 点击按钮跳转到Telegram @lubei12
- [ ] 使用统计表格正确显示

#### 3. 静态住宅选购 (国旗)
- [ ] 支付面板显示国旗（不是emoji）
- [ ] 国旗清晰可见
- [ ] 格式: [旗帜] 国家 - 城市

#### 4. 静态住宅管理 (IP格式+导出)
- [ ] IP列显示格式: `192.168.1.100:8080:user_001:pass_001`
- [ ] 点击复制按钮 → 显示"已复制到剪贴板"
- [ ] 粘贴测试 → 格式正确
- [ ] 导出按钮存在（CSV/TXT）
- [ ] 选择IP后导出 → 文件下载成功
- [ ] 打开TXT文件 → 每行一个凭证

## 🔧 Chrome DevTools检查清单

### Console (F12 → Console)
- [ ] 无红色错误
- [ ] 无黄色警告（可忽略第三方库警告）

### Network (F12 → Network)
- [ ] 所有API请求返回200或201
- [ ] 登录请求返回401时有正确的errorCode
- [ ] 无Failed请求

### Elements (F12 → Elements)
- [ ] 检查flag-icons CSS加载: 搜索`flag-icons`
- [ ] 国旗元素: `<span class="fi fi-us">`

## 📸 需要截图的页面

1. ✅ 登录页面 - 显示错误消息
2. ✅ 动态住宅管理 - 新UI
3. ✅ 静态住宅选购 - 支付面板with国旗
4. ✅ 静态住宅管理 - IP凭证格式
5. ✅ 导出文件内容 - TXT格式

## ⚠️ 常见问题

### 问题1: 后端无法启动
```
ERROR [TypeOrmModule] Unable to connect to the database
```
**解决**: 检查PostgreSQL是否运行，检查.env配置

### 问题2: 前端白屏
**检查**:
1. Console是否有错误
2. Backend是否启动
3. 端口是否被占用

### 问题3: 国旗不显示
**原因**: flag-icons CSS未加载
**验证**: F12 → Network → 搜索`flag-icons.min.css`
**已修复**: 在main.ts中导入

### 问题4: 复制功能不工作
**原因**: HTTPS或localhost外的clipboard限制
**解决**: 确保使用localhost测试

## 🎉 测试完成标准

- [x] 所有P0功能验证通过
- [ ] Console无错误
- [ ] Network无Failed请求
- [ ] 所有截图已保存
- [ ] 发现的问题已记录

---

**准备好了吗？** 
- 执行步骤1和2启动服务
- 打开Chrome浏览器
- 开始测试！

