# ğŸš€ ProxyHub å¿«é€Ÿå¯åŠ¨æŒ‡å—

## âœ… æˆ‘å·²ç»ä¸ºæ‚¨å®Œæˆçš„å·¥ä½œ

### 1. åœæ­¢äº†æ‰€æœ‰Nodeè¿›ç¨‹ âœ…
### 2. åˆ é™¤äº†Viteç¼“å­˜ âœ…
### 3. ç¡®è®¤æ–‡ä»¶é…ç½®æ­£ç¡® âœ…
   - `frontend/src/api/request.ts` çš„ baseURL å·²è®¾ç½®ä¸º `/api/v1`
### 4. åˆ›å»ºäº†æ‰¹å¤„ç†å¯åŠ¨æ–‡ä»¶ âœ…
   - `å¯åŠ¨åç«¯.bat`
   - `å¯åŠ¨å‰ç«¯.bat`  
   - `ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡.bat`

---

## ğŸ¯ ç°åœ¨è¯·æ‚¨æ‰‹åŠ¨æ“ä½œï¼ˆ2åˆ†é’Ÿï¼‰

### æ–¹æ³•1ï¼šä¸€é”®å¯åŠ¨ï¼ˆæœ€ç®€å•ï¼‰â­

**åŒå‡»è¿è¡Œ** `ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡.bat`

è¿™ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥å¹¶å¯åŠ¨æ•°æ®åº“
2. å¯åŠ¨åç«¯æœåŠ¡ï¼ˆæ–°çª—å£ï¼‰
3. ç­‰å¾…10ç§’
4. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆæ–°çª—å£ï¼‰
5. ç­‰å¾…5ç§’
6. è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

---

### æ–¹æ³•2ï¼šåˆ†æ­¥å¯åŠ¨

#### æ­¥éª¤1ï¼šæ£€æŸ¥æ•°æ®åº“
```powershell
docker ps
```
åº”è¯¥çœ‹åˆ° `proxyhub-postgres` è¿è¡Œä¸­ã€‚å¦‚æœæ²¡æœ‰ï¼š
```powershell
docker-compose up -d postgres
```

#### æ­¥éª¤2ï¼šå¯åŠ¨åç«¯
åŒå‡» `å¯åŠ¨åç«¯.bat`

ç­‰å¾…çœ‹åˆ°ï¼š
```
========================================
  ProxyHub Backend Started!
========================================
  API Server: http://localhost:3000/api/v1
  API Docs:   http://localhost:3000/api
```

#### æ­¥éª¤3ï¼šå¯åŠ¨å‰ç«¯
åŒå‡» `å¯åŠ¨å‰ç«¯.bat`

ç­‰å¾…çœ‹åˆ°ï¼š
```
VITE v5.x.x ready in xxx ms

âœ  Local:   http://localhost:8080/
```

#### æ­¥éª¤4ï¼šæ‰“å¼€æµè§ˆå™¨
è®¿é—® `http://localhost:8080`

---

## ğŸ§ª æµ‹è¯•ç™»å½•

### æµ‹è¯•è´¦å·ï¼š
- **æ™®é€šç”¨æˆ·**: `user@example.com` / `password123`
- **ç®¡ç†å‘˜**: `admin@example.com` / `admin123`

---

## âœ… éªŒè¯æˆåŠŸæ ‡å¿—

### åœ¨Chrome DevTools > Networkæ ‡ç­¾ä¸­ï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
POST http://localhost:8080/api/v1/auth/login [200 OK]
```

**å…³é”®ç‚¹**ï¼š
- âœ… URLæ˜¯ `http://localhost:8080/api/v1/auth/login` ï¼ˆå‰ç«¯åœ°å€ï¼‰
- âœ… çŠ¶æ€ç  200 OK
- âœ… å“åº”åŒ…å« `access_token` å’Œ `user` ä¿¡æ¯

---

## ğŸ‰ ç™»å½•æˆåŠŸåæ‚¨ä¼šçœ‹åˆ°ï¼š

1. âœ… é¡µé¢è·³è½¬åˆ° `/dashboard`
2. âœ… å·¦ä¾§æ˜¾ç¤ºå®Œæ•´çš„å¯¼èˆªèœå•
3. âœ… é¡¶éƒ¨æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
4. âœ… ä»ªè¡¨ç›˜æ˜¾ç¤º3ä¸ªå›¾è¡¨ï¼ˆæ¡å½¢å›¾ã€é¥¼å›¾ã€æŠ˜çº¿å›¾ï¼‰
5. âœ… æ²¡æœ‰ä»»ä½•é”™è¯¯æç¤º

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: å‰ç«¯æ— æ³•è®¿é—®ï¼ˆERR_CONNECTION_REFUSEDï¼‰
**A**: å‰ç«¯å¯èƒ½è¿˜åœ¨å¯åŠ¨ä¸­
- ç­‰å¾…30-60ç§’
- æ£€æŸ¥å‰ç«¯CMDçª—å£æ˜¯å¦æœ‰é”™è¯¯
- ç¡®ä¿çœ‹åˆ° `Local: http://localhost:8080/` æç¤º

### Q2: ç™»å½•å¤±è´¥ï¼ˆ404 Not Foundï¼‰
**A**: åç«¯å¯èƒ½è¿˜æ²¡å®Œå…¨å¯åŠ¨
- æ£€æŸ¥åç«¯CMDçª—å£
- ç¡®ä¿çœ‹åˆ° "ProxyHub Backend Started!" æç¤º
- è®¿é—® `http://localhost:3000/api` ç¡®è®¤APIæ–‡æ¡£å¯è®¿é—®

### Q3: CORSé”™è¯¯
**A**: ä½¿ç”¨äº†é”™è¯¯çš„URL
- ç¡®ä¿è®¿é—® `http://localhost:8080` ï¼ˆä¸æ˜¯127.0.0.1ï¼‰
- æŒ‰ `Ctrl + Shift + Delete` æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- ä½¿ç”¨æ— ç—•æ¨¡å¼

---

## ğŸ“¸ æˆªå›¾è¯´æ˜

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. åç«¯CMDçª—å£çš„æˆªå›¾
2. å‰ç«¯CMDçª—å£çš„æˆªå›¾
3. Chrome DevTools > Network æ ‡ç­¾çš„æˆªå›¾
4. Chrome DevTools > Console æ ‡ç­¾çš„æˆªå›¾

---

## ğŸ’¡ å·¥ä½œåŸç†

### Viteä»£ç†æœºåˆ¶ï¼ˆæ— CORSé—®é¢˜ï¼‰ï¼š

```
æµè§ˆå™¨è¯·æ±‚
  â†“
http://localhost:8080/api/v1/auth/login
  â†“
Viteæ£€æµ‹åˆ° /api å¼€å¤´
  â†“
ä»£ç†è½¬å‘åˆ°åç«¯
  â†“
http://localhost:3000/api/v1/auth/login
  â†“
NestJSå¤„ç†è¯·æ±‚
  â†“
è¿”å›å“åº” 200 OK
```

---

## ğŸ¯ å…³é”®é…ç½®ï¼ˆå·²ä¿®å¤ï¼‰

### frontend/src/api/request.ts (ç¬¬6è¡Œ):
```typescript
baseURL: import.meta.env.VITE_API_BASE_URL || '/api/v1',
```
âœ… ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œç»è¿‡Viteä»£ç†

### frontend/vite.config.ts (ç¬¬30-35è¡Œ):
```typescript
proxy: {
  '/api': {
    target: 'http://localhost:3000',
    changeOrigin: true,
  }
}
```
âœ… Viteä»£ç†é…ç½®æ­£ç¡®

### backend/src/main.ts (ç¬¬13-21è¡Œ):
```typescript
app.enableCors({
  origin: [
    'http://localhost:8080',
    'http://127.0.0.1:8080',
  ],
  credentials: true,
});
```
âœ… CORSé…ç½®æ­£ç¡®

---

**ä¿®å¤å®Œæˆæ—¶é—´**: 2025-11-02  
**çŠ¶æ€**: âœ… æ‰€æœ‰é…ç½®å·²ä¿®å¤ï¼Œç­‰å¾…æµ‹è¯•  
**ä¸‹ä¸€æ­¥**: åŒå‡» `ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡.bat` å¼€å§‹æµ‹è¯•

