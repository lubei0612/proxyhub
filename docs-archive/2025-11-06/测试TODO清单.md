# ProxyHub 完整测试 TODO 清单

**创建日期**: 2025-11-03  
**测试状态**: 进行中  
**完成度**: 12.5% (2/16 模块)

---

## 📊 测试进度概览

| 模块类别 | 完成 | 待测 | 完成率 |
|---------|------|------|--------|
| **认证模块** | 0 | 5 | 0% |
| **仪表盘** | 0 | 1 | 0% |
| **动态代理** | 1 | 1 | 50% |
| **静态代理** | 1 | 2 | 33% |
| **钱包充值** | 0 | 1 | 0% |
| **账单明细** | 0 | 4 | 0% |
| **我的账户** | 0 | 3 | 0% |
| **管理后台** | 0 | 7 | 0% |
| **总计** | **2** | **22** | **8.3%** |

---

## 🔐 认证模块测试 (Priority: P0)

### [ ] 1. 用户登录测试
- [ ] 正确账号密码登录成功
- [ ] 错误密码显示"密码错误，请重试"
- [ ] 不存在的账号显示"该账号不存在，请先注册"
- [ ] 无效邮箱格式显示"请输入有效的邮箱地址"
- [ ] 禁用账户显示"账户已被禁用，请联系客服"
- [ ] 登录成功后正确跳转到仪表盘

**测试账号**: 
- 普通用户: user@example.com / password123
- 管理员: admin@example.com / admin123

### [ ] 2. 用户注册测试
- [ ] 新用户注册成功
- [ ] 重复邮箱注册提示错误
- [ ] 密码强度验证
- [ ] 注册成功后自动登录

### [ ] 3. 管理员登录测试
- [ ] 管理员正确登录
- [ ] 普通用户无法访问管理后台
- [ ] 显示"需要管理员权限"错误

### [ ] 4. 登出功能测试
- [ ] 点击退出登录
- [ ] 清除登录状态
- [ ] 正确跳转到登录页

### [ ] 5. Token刷新测试
- [ ] Access Token过期自动刷新
- [ ] Refresh Token过期跳转登录

---

## 📊 仪表盘测试 (Priority: P1)

### [ ] 6. 仪表盘数据展示
- [ ] 4个统计卡片显示正确（总代理数、活跃代理、总订单数、总消费）
- [ ] 条形图显示正确（数据中心、双ISP静态、动态、移动代理）
- [ ] 饼图显示正确（HTTP请求、HTTPS请求、WebSocket、其他）
- [ ] 折线图显示4条曲线（DC、Mobile、Res Rotating、Res Static）
- [ ] 所有时间显示基于UTC
- [ ] 数据实时刷新

**测试条件**: 需要有订单数据和使用记录

---

## 🔄 动态代理测试 (Priority: P1)

### [x] 7. 动态住宅管理 ✅
- [x] 4个统计卡片显示（套餐类型、剩余流量、状态、流量单价）
- [x] 操作按钮链接到Telegram @lubei12
- [x] 使用统计表格显示
- [x] UI匹配985Proxy设计

**状态**: ✅ 已测试通过

### [ ] 8. 动态住宅选购
- [ ] "联系客服"按钮跳转Telegram
- [ ] "企业定制"卡片显示
- [ ] 价格信息正确显示
- [ ] 不显示"立即购买"按钮（仅显示"联系客服"）

---

## 🏠 静态代理测试 (Priority: P0)

### [x] 9. 静态住宅管理 ✅
- [x] IP格式正确："IP:Port:User:Pass"
- [x] 一键复制功能正常
- [x] 国旗正确显示
- [x] 导出CSV/TXT功能正常
- [x] 过滤功能（IP、通道、国家、城市、节点ID、IP类型）
- [x] 批量续费功能

**状态**: ✅ 已测试通过

### [ ] 10. 静态住宅选购
- [ ] IP类型选择（普通/原生）
- [ ] IP购买时长选择（30/60/90/180/360天）
- [ ] 不显示价格（仅在管理后台设置）
- [ ] 地区筛选（所有/欧洲/南美洲/亚洲/北美洲）
- [ ] 国家城市列表显示（带国旗）
- [ ] 购物车功能
  - [ ] 添加IP到购物车
  - [ ] 支付面板显示国旗和详情
  - [ ] 余额不足时提示错误
  - [ ] 购买成功扣除余额
  - [ ] 订单记录正确生成

**测试条件**: 需要有充足余额

### [ ] 11. 静态代理续费
- [ ] 单个IP续费
- [ ] 批量续费
- [ ] 续费价格计算正确
- [ ] 余额扣除正确
- [ ] 到期时间更新正确

---

## 💰 钱包充值测试 (Priority: P1)

### [ ] 12. 钱包充值功能
- [ ] 选择支付方式（微信/支付宝/USDT/USD）
- [ ] 自定义充值金额
- [ ] 添加备注（如USDT地址）
- [ ] 提交充值申请
- [ ] 充值订单生成
- [ ] 管理员审核后余额更新
- [ ] 汇率转换（USD to CNY）

**测试条件**: 需要管理员审核

---

## 📋 账单明细测试 (Priority: P1)

### [ ] 13. 消费记录
- [ ] 消费记录列表显示
- [ ] 按日期筛选
- [ ] 按类型筛选（静态代理/动态代理/续费）
- [ ] 导出功能

### [ ] 14. 交易明细
- [ ] 所有交易记录显示
- [ ] 收入/支出分类
- [ ] 余额变动记录
- [ ] 筛选功能

### [ ] 15. 结算记录
- [ ] 结算列表显示
- [ ] 点击"查看详情"显示详细弹窗
- [ ] 详情包含所有必要信息

### [ ] 16. 充值订单
- [ ] 充值订单列表
- [ ] 3行筛选条件（状态、支付方式、时间范围）
- [ ] 订单状态显示（待审核/已完成/已拒绝）
- [ ] 查看订单详情

---

## 👤 我的账户测试 (Priority: P2)

### [ ] 17. 账户中心
- [ ] 个人信息显示
- [ ] 修改个人信息
- [ ] Telegram客服链接可配置
- [ ] 二维码替换为Telegram链接

### [ ] 18. 通知设置
- [ ] 通知开关设置
- [ ] 邮件通知设置
- [ ] Telegram通知设置

### [ ] 19. 事件日志
- [ ] 显示 #ID, 账号名, 事件类型, 事件内容, 事件时间
- [ ] **不显示**IP地址和设备信息（隐私保护）
- [ ] 按事件类型筛选
- [ ] 按时间筛选

---

## 🔧 管理后台测试 (Priority: P0)

### [ ] 20. 管理员登录
- [ ] 管理员账号登录
- [ ] 访问管理后台URL（单独路径）
- [ ] 普通用户无法访问

### [ ] 21. 用户管理
- [ ] 用户列表显示
- [ ] 创建新用户
- [ ] 编辑用户信息
- [ ] 禁用/启用账户
- [ ] 重置密码
- [ ] 查看用户订单和余额

### [ ] 22. 价格覆盖管理（产品卡格式）
- [ ] 显示所有国家产品卡
- [ ] 修改普通IP价格（30/60/90/180/360天）
- [ ] 修改原生IP价格
- [ ] 特定国家价格设置（韩国、日本、新加坡）
- [ ] 价格生效验证

### [ ] 23. 充值审核
- [ ] 待审核充值列表
- [ ] 查看充值详情（备注、金额、支付方式）
- [ ] 审核通过（自动更新用户余额）
- [ ] 审核拒绝（填写拒绝原因）
- [ ] 审核记录

### [ ] 24. 订单管理
- [ ] 所有订单列表
- [ ] 按用户筛选
- [ ] 按状态筛选
- [ ] 按时间筛选
- [ ] 查看订单详情
- [ ] 订单统计

### [ ] 25. IP管理
- [ ] IP池管理
- [ ] 添加新IP
- [ ] 分配IP到订单
- [ ] IP状态管理
- [ ] IP使用统计

### [ ] 26. 系统设置
- [ ] Telegram客服配置（2个客服位置）
- [ ] 系统参数设置
- [ ] 汇率设置（USD to CNY）
- [ ] 优惠码管理（可选）

---

## 🌐 额外功能测试 (Priority: P2)

### [ ] 27. 多语言支持
- [ ] 简体中文显示
- [ ] 英文切换
- [ ] 语言切换保持状态

### [ ] 28. 响应式设计
- [ ] 手机端显示正常
- [ ] 平板端显示正常
- [ ] 桌面端显示正常
- [ ] 菜单适配移动端

### [ ] 29. 性能测试
- [ ] 大数据量加载（1000+ IP）
- [ ] 导出大文件（1000+ 记录）
- [ ] 页面加载速度
- [ ] API响应速度

### [ ] 30. 浏览器兼容性
- [ ] Chrome测试
- [ ] Firefox测试
- [ ] Safari测试
- [ ] Edge测试

---

## 🐛 已知问题列表

1. **登录错误消息未测试** - 前端服务器断开，待重启后测试
2. **仪表盘图表数据** - 需要真实订单数据验证
3. **985Proxy API集成** - 需要验证真实IP分配流程

---

## 📝 测试注意事项

### 测试前准备
1. ✅ 确保数据库包含测试数据
2. ✅ 确保后端和前端服务正常运行
3. ✅ 准备测试账号（普通用户 + 管理员）
4. ✅ 清理浏览器缓存（使用隐私模式）

### 测试顺序建议
**第一轮（P0 - 核心功能）**:
1. 认证模块（1-5）
2. 静态代理选购和管理（10-11）
3. 管理后台核心功能（20-24）

**第二轮（P1 - 重要功能）**:
4. 仪表盘（6）
5. 动态代理（8）
6. 钱包和账单（12-16）

**第三轮（P2 - 次要功能）**:
7. 我的账户（17-19）
8. 管理后台高级功能（25-26）
9. 额外功能（27-30）

### 测试工具
- ✅ Chrome DevTools MCP（推荐）
- ✅ 浏览器开发者工具
- ✅ Postman/API测试工具
- ✅ 数据库查看工具

---

## 🎯 测试完成标准

- [ ] 所有P0功能100%通过
- [ ] 所有P1功能100%通过
- [ ] P2功能至少80%通过
- [ ] 无P0/P1级别bug
- [ ] 所有截图和测试报告完整
- [ ] 代码提交到GitHub

---

## 📊 当前进度更新

**已完成测试**:
- ✅ 动态住宅管理（7）
- ✅ 静态住宅管理（9）

**进行中**:
- 🔄 认证模块登录错误消息（待重启前端）

**下一步**:
1. 重启前端服务器
2. 完成认证模块测试（1-5）
3. 测试静态代理选购（10）
4. 测试管理后台（20-26）

---

**预计完成时间**: 需要2-3小时完整测试所有模块  
**建议**: 分批测试，每批完成后提交一次代码

