#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push checks..."

# ç¡®è®¤æ¨é€åˆ°æ­£ç¡®çš„åˆ†æ”¯
current_branch=$(git symbolic-ref --short HEAD)
echo "ğŸ“ Current branch: $current_branch"

# è­¦å‘Šï¼šæ¨é€åˆ° master
if [ "$current_branch" = "master" ]; then
  echo "âš ï¸  Warning: Pushing to master branch"
  read -p "Are you sure? (y/n) " -n 1 -r
  echo
  if [[ ! $REPLY =~ ^[Yy]$ ]]; then
    echo "âŒ Push cancelled"
    exit 1
  fi
fi

echo "âœ… Pre-push checks passed!"

