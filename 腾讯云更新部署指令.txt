â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ProxyHub è…¾è®¯äº‘æœåŠ¡å™¨æ›´æ–°éƒ¨ç½²æŒ‡ä»¤ï¼ˆå·²éƒ¨ç½²ç¯å¢ƒï¼‰             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… æ›´æ–°æ—¥æœŸ: 2025-11-15
ğŸ¯ ç›®æ ‡: æ›´æ–°ä¿®å¤985Proxy APIå¯¹æ¥é—®é¢˜
ğŸ”§ éƒ¨ç½²æ–¹å¼: GitHubæ‹‰å– + Dockerè‡ªåŠ¨åŒ–æ›´æ–°

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ç¬¬ä¸€æ­¥ã€‘æœ¬åœ°æ¨é€åˆ°GitHubï¼ˆåœ¨ä½ çš„ç”µè„‘æ‰§è¡Œï¼‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

git add .
git commit -m "fix: update 985proxy API integration and fix renewal pricing logic"
git push origin master

å¤‡æ³¨ï¼šå¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œå¯èƒ½éœ€è¦è¾“å…¥GitHubç”¨æˆ·åå’ŒTokenï¼ˆå¯†ç ï¼‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ç¬¬äºŒæ­¥ã€‘SSHç™»å½•è…¾è®¯äº‘æœåŠ¡å™¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ssh root@43.130.35.117

# æˆ–è€…å¦‚æœä½ ä½¿ç”¨äº†å…¶ä»–ç”¨æˆ·å
ssh ä½ çš„ç”¨æˆ·å@43.130.35.117

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ç¬¬ä¸‰æ­¥ã€‘è¿›å…¥é¡¹ç›®ç›®å½•å¹¶å¤‡ä»½ï¼ˆåœ¨æœåŠ¡å™¨æ‰§è¡Œï¼‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

cd proxyhub

# ã€é‡è¦ã€‘å¤‡ä»½æ•°æ®åº“ï¼ˆé˜²æ­¢æ›´æ–°å‡ºé—®é¢˜ï¼‰
docker exec proxyhub-postgres pg_dump -U postgres proxyhub > backup_before_update_$(date +%Y%m%d_%H%M%S).sql

# ç¡®è®¤å¤‡ä»½æˆåŠŸ
ls -lh backup_*.sql

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ç¬¬å››æ­¥ã€‘ä»GitHubæ‹‰å–æœ€æ–°ä»£ç 
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin master

# æŸ¥çœ‹æ›´æ–°å†…å®¹
git log --oneline -5

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ç¬¬äº”æ­¥ã€‘é‡æ–°æ„å»ºå¹¶é‡å¯æœåŠ¡
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# æ–¹å¼Aï¼šå®Œæ•´é‡å¯ï¼ˆæ¨èï¼Œç¡®ä¿æ‰€æœ‰æ›´æ–°ç”Ÿæ•ˆï¼‰
docker-compose down
docker-compose build --no-cache
docker-compose up -d

# æ–¹å¼Bï¼šåªé‡å¯åç«¯ï¼ˆå¦‚æœåªæ”¹äº†åç«¯ä»£ç ï¼‰
docker-compose stop backend
docker-compose rm -f backend
docker-compose build backend
docker-compose up -d backend

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ç¬¬å…­æ­¥ã€‘éªŒè¯æœåŠ¡çŠ¶æ€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# æŸ¥çœ‹å®¹å™¨çŠ¶æ€ï¼ˆåº”è¯¥éƒ½æ˜¯UpçŠ¶æ€ï¼‰
docker-compose ps

# æŸ¥çœ‹åç«¯æ—¥å¿—ï¼ˆç¡®è®¤å¯åŠ¨æˆåŠŸï¼‰
docker-compose logs -f backend --tail=50

# æŒ‰Ctrl+Cé€€å‡ºæ—¥å¿—æŸ¥çœ‹

# æµ‹è¯•å¥åº·æ£€æŸ¥æ¥å£
curl http://localhost/api/v1/health

# å¦‚æœè¿”å› {"status":"ok",...} è¡¨ç¤ºæˆåŠŸ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ç¬¬ä¸ƒæ­¥ã€‘åŠŸèƒ½éªŒè¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# åœ¨æµè§ˆå™¨è®¿é—®ï¼ˆæ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨IPï¼‰
http://43.130.35.117

# æµ‹è¯•è¦ç‚¹ï¼š
âœ… 1. ç®¡ç†å‘˜ç™»å½•ï¼šadmin@example.com / admin123
âœ… 2. è¿›å…¥"é™æ€ä»£ç†è´­ä¹°"é¡µé¢ï¼Œæ£€æŸ¥ä¸šåŠ¡åœºæ™¯åˆ—è¡¨æ˜¯å¦åŠ è½½
âœ… 3. è¿›å…¥"ä»·æ ¼è¦†ç›–ç®¡ç†"ï¼Œæµ‹è¯•ä¿å­˜ç”¨æˆ·ä»·æ ¼è¦†ç›–
âœ… 4. è¿›å…¥"é™æ€ä»£ç†ç®¡ç†"ï¼Œæµ‹è¯•ç»­è´¹åŠŸèƒ½çš„ä»·æ ¼è®¡ç®—
âœ… 5. æ£€æŸ¥985Proxy APIè°ƒç”¨æ˜¯å¦æ­£å¸¸

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€å¸¸ç”¨ç®¡ç†å‘½ä»¤ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹åç«¯å®æ—¶æ—¥å¿—
docker-compose logs -f backend

# æŸ¥çœ‹å‰ç«¯å®æ—¶æ—¥å¿—
docker-compose logs -f frontend

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker-compose logs -f postgres

# é‡å¯æŸä¸ªæœåŠ¡
docker-compose restart backend
docker-compose restart frontend

# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ
docker stats

# è¿›å…¥åç«¯å®¹å™¨å†…éƒ¨ï¼ˆè°ƒè¯•ç”¨ï¼‰
docker exec -it proxyhub-backend sh

# æŸ¥çœ‹æ•°æ®åº“è¿æ¥
docker exec -it proxyhub-postgres psql -U postgres -d proxyhub

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€å¦‚æœé‡åˆ°é—®é¢˜ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

é—®é¢˜1: å®¹å™¨å¯åŠ¨å¤±è´¥
è§£å†³:
  docker-compose logs backend
  # æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

é—®é¢˜2: ç«¯å£è¢«å ç”¨
è§£å†³:
  # æŸ¥çœ‹ç«¯å£å ç”¨
  netstat -tulpn | grep :80
  netstat -tulpn | grep :3000
  
  # åœæ­¢å ç”¨ç«¯å£çš„æœåŠ¡
  kill -9 <PID>

é—®é¢˜3: ç£ç›˜ç©ºé—´ä¸è¶³
è§£å†³:
  # æ¸…ç†æœªä½¿ç”¨çš„Dockerèµ„æº
  docker system prune -a --volumes
  
  # æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
  df -h

é—®é¢˜4: æ•°æ®åº“è¿æ¥å¤±è´¥
è§£å†³:
  # é‡å¯æ•°æ®åº“
  docker-compose restart postgres
  
  # æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
  docker-compose logs postgres

é—®é¢˜5: 985Proxy APIè°ƒç”¨å¤±è´¥
è§£å†³:
  # æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
  cat .env | grep PROXY_985
  
  # ç¡®è®¤API Keyå’ŒZoneæ˜¯å¦æ­£ç¡®
  # æ£€æŸ¥åç«¯æ—¥å¿—ä¸­çš„APIè°ƒç”¨è®°å½•
  docker-compose logs backend | grep "985Proxy"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬ï¼ˆå¦‚æœæ›´æ–°å‡ºé—®é¢˜ï¼‰ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# å›é€€ä»£ç åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
git log --oneline -5  # æŸ¥çœ‹æäº¤å†å²
git reset --hard <ä¸Šä¸€ä¸ªcommitçš„hash>

# æ¢å¤æ•°æ®åº“ï¼ˆå¦‚æœéœ€è¦ï¼‰
docker exec -i proxyhub-postgres psql -U postgres proxyhub < backup_before_update_XXXXXX.sql

# é‡æ–°æ„å»ºå¯åŠ¨
docker-compose down
docker-compose build --no-cache
docker-compose up -d

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶å¤§å°
du -sh /var/lib/docker/containers/*

# é…ç½®æ—¥å¿—è½®è½¬ï¼ˆé˜²æ­¢æ—¥å¿—å æ»¡ç£ç›˜ï¼‰
cat > /etc/docker/daemon.json <<EOF
{
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "10m",
    "max-file": "3"
  }
}
EOF

# é‡å¯DockeræœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆ
systemctl restart docker

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€å®šæœŸç»´æŠ¤å»ºè®®ã€‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ¯å‘¨:
  âœ… æ£€æŸ¥å®¹å™¨è¿è¡ŒçŠ¶æ€
  âœ… æŸ¥çœ‹é”™è¯¯æ—¥å¿—
  âœ… ç›‘æ§ç£ç›˜ç©ºé—´

æ¯æœˆ:
  âœ… æ•°æ®åº“å¤‡ä»½
  âœ… æ¸…ç†Dockeræœªä½¿ç”¨èµ„æº
  âœ… æ£€æŸ¥ç³»ç»Ÿæ›´æ–°

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‰ éƒ¨ç½²å®Œæˆåè®¿é—®:
   å‰ç«¯: http://43.130.35.117
   åç«¯API: http://43.130.35.117/api/v1
   APIæ–‡æ¡£: http://43.130.35.117/api

ğŸ“ å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥çœ‹æ—¥å¿—: docker-compose logs -f

